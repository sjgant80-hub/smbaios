<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;font:11px/1.2'Courier New'}:root{--d:#0a0f0f;--p:#a0f;--t:#0fc}body{background:var(--d);color:var(--t);display:flex;height:100vh;gap:2px}#m{flex:1;display:flex;flex-direction:column;gap:2px}#c{flex:1;background:#0f1414;border:1px solid var(--p);padding:5px;overflow:auto}input{background:#0f1414;color:var(--t);border:1px solid var(--p);padding:4px}input:focus{outline:0;box-shadow:0 0 5px var(--p)}.d{width:250px;background:#0f1414;border:1px solid var(--p);padding:4px;overflow:auto}.x{padding:3px}.q{color:var(--p)}.u{border-left:2px solid var(--p)}.s{border-left:2px solid var(--t)}.e{border-left:2px solid var(--t)}.v{border:none;width:100%;height:100%;background:#0f1414;color:var(--t)}</style></head><body><div class="d"id="l"></div><div id="m"><div id="c"></div><div><input id="i"placeholder="?"/></div></div><div class="d"id="r"></div><script>const $=s=>document.querySelector(s),_=new Map([['$',{s:{t:'h|l|g',f:s=>`s:${s}`,g:s=>new Function('x',`return{c:"${s}",t:Date.now()}`)},m:{t:'t|p|g|l',f:s=>`m:${s}`,g:s=>new Function('d',`return{t:"${s}",d:d.split(',').map(Number),r:d.map(x=>Math.sin(x)*Math.random())}`)},a:{t:'g|p|d',f:s=>`a:${s}`,g:s=>new Function('u',`if(Date.now()-this.t<1e3)throw"Rate";this.t=Date.now();return fetch(u,{method:"${s}"})`)},u:{t:'b|i|p|g',f:s=>`u:${s}`,g:s=>new Function('p',`return this.t("${s}",p)`)},h:{t:'g|v|t',f:s=>`const d=this.v.contentDocument;d.open();d.write(this.h=\`${s}\`);d.close()`,g:s=>new Function('d',`return this.t("${s}",d)`)},'*':{t:'*',f:s=>`return"${s}"`,g:s=>new Function('x',`return x`)}}],['@',{s:'body{font:11px/1.2"Courier New";color:#0fc;background:#0a0f0f}.w{border:1px solid #a0f;padding:8px;margin:4px}.g{display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}.f{display:flex;gap:8px}.b{cursor:pointer;background:#0a0f0f;color:#0fc;border:1px solid #a0f;padding:4px}@keyframes a{from{opacity:0}to{opacity:1}}',t:{d:'<div class="w">${t}</div><div class="w g">${c}</div>',b:'<button class="b">${t}</button>',i:'<input class="b" placeholder="${p}"/>',p:'<div class="w">${c}</div>',g:'<div class="g">${c}</div>'}}]]),W={d:new Map,t:0,async init(){for(const[k,v]of Object.entries(_.get('$')))this.d.set(k,{n:k,c:v.t.split('|'),f:new Function('s',v.f),g:v.g});const f=document.createElement('iframe');f.className='v';f.id='v';$('#r').appendChild(f);this.v=f;const s=this.v.contentDocument.createElement('style');s.textContent=_.get('@').s;this.v.contentDocument.head.appendChild(s)},t(t,d={}){return _.get('@').t[t]?.replace(/\${(\w+)}/g,(m,p)=>d[p]||p)||t},async cmd(s){if(!s)return'';try{const[c,...a]=s.split(' '),t=a.join(' ');if(c[0]=='?')return{r:[...this.d.entries()].filter(([k,v])=>k.includes(t)||v.c.some(i=>i.includes(t))).map(([k,v])=>`${k}:[${v.c}]`).join('\n')};const[m,o]=c.split('.');if(this.d.has(m)){const v=this.d.get(m);if(o&&!v.c.includes(o))return{r:`!${o}?`};return{r:await v.f.call(this,t)}}return{r:c=='h'?[...this.d.keys()].map(k=>`${k}:[${this.d.get(k).c}]`).join('\n'):c=='l'?[...this.d].map(([k,v])=>`${k}:${v.n}`).join('\n'):'?'}}catch(e){return{r:`!${e}`}}}},U={async log(s){if(!s)return;const r=await W.cmd(s),t=new Date().toISOString(),h=`<div class="q">${t}</div>`;$('#c').innerHTML+=`<div class="x u">${h}$${s}</div>${r.r?`<div class="x ${r.r[0]=='!'?'e':'s'}">${h}${r.r}</div>`:''}`;$('#c').scrollTop=1e9;$('#i').value=''},async init(){await W.init();$('#i').onkeyup=e=>e.key=='Enter'&&this.log(e.target.value.trim());$('#c').innerHTML=`<div class="x s"><div class="q">${new Date().toISOString()}</div>W1.5\n?</div>`;$('#l').innerHTML=`âŒ¬\n${[...W.d.entries()].map(([k,v])=>`${k}:[${v.c}]`).join('\n')}`}};onload=()=>U.init();</script></body></html>
